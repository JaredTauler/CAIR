{% extends "base.html" %}
{% block head %}
<head>
    <title>Student Master</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='common.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='maint/a.css') }}">

    <link href="https://unpkg.com/tabulator-tables@5.0.7/dist/css/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@5.0.7/dist/js/tabulator.min.js"></script>
{#    TODO figure out how to only load if on computer#}
    <script type="text/javascript" src="https://oss.sheetjs.com/sheetjs/xlsx.full.min.js"></script>
</head>
{% endblock %}

{% block content %}
<form id="ReportForm" class="FormContainer">
        <input name="EntryBox" title="Entry Box" type="text" id="EntryBox"
           placeholder="Student ID" list="ReportStudentList" class="smooth glowfocus formbox"
           style="grid-column: 2;" >
        <datalist id="ReportStudentList"></datalist>

    <input class="button smooth" type="button" title="Submit Button" id="ReportFetch"
           name="ReportFetch" value="Fetch" style="
                grid-column: span 2;
                width: fit-content;
                justify-self: center;
    "
    >
    <input class="button smooth" type="button" title="Export Button" id="Export"
           name="ReportFetch" value="Export" style="
                grid-column: span 2;
                width: fit-content;
                justify-self: center;
            "
           onclick="ExcelExport()"

    >
</form>
<form>
    <input name="lname" type="text">
    <input name="fname" type="text">
    <select
        name = "school"
        title="School"
        id="school"
        class="smooth glowfocus formbox"
    >
        <option value="" disabled selected hidden>School</option>
    </select>
    <input name="active">
    <input name="action_count">
    <input name="last_action">
</form>
<table id="ReportTable" class="ReportTable" hidden="true"></table>
{% endblock %}

{%  block script %}
<script type="text/javascript">
    const VALUES = {{ values|safe }} // IMPORTANT, this passes values passed to the jinja template to the JS file.
        {{ static_include("master/prep.js") | safe }}
        {{ static_include("master/main.js") | safe }}
        {{ static_include("master/tableformat.js") | safe }}
</script>
{% endblock %}
